<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicio 01</title>
</head>

<body>

  <!-- <script>
    // Define una función flecha 'filtrar' que recibe un objeto 'x'
    // y devuelve true si la propiedad 'name' de 'x' es igual a "evaluacion".
    const filtrar = x => x.name === "evaluacion";
    // Expresión de función ejecutada inmediatamente (IIFE)
    (async () => {
      // Realiza una solicitud fetch para obtener el archivo JSON "user.json"
      // y espera ("await") hasta que la respuesta esté disponible.
      let response = await fetch("user.json");
      // Convierte la respuesta de "user.json" a formato JSON
      // y espera ("await") hasta que la conversión esté completa.
      let user = await response.json();
      // Realiza una solicitud fetch a la API de GitHub para obtener los repositorios
      // del usuario cuyo nombre está en "user.name", y espera ("await") hasta que la respuesta esté disponible.
      let respuestaGithub = await fetch(`https://api.github.com/users/${user.name}/repos`);
      // Convierte la respuesta de GitHub a formato JSON y espera ("await") hasta que la conversión esté completa.
      let usuarioGithub = await respuestaGithub.json();
      // Recorre cada elemento (repositorio) en "usuarioGithub".
      usuarioGithub.forEach(element => {
        if (element.name === "evaluacion") {
          // Si el nombre del repositorio es "evaluacion", imprime el repositorio en la consola.
          console.log(element);
        };
      });
      // Usa la función "filter" en "data" para obtener una lista de repositorios
      // cuyo nombre es "evaluacion", utilizando la función "filtrar" definida anteriormente.
      let data = usuarioGithub.filter(filtrar);
      // Imprime la lista filtrada en la consola.
      console.log(data);
    })();
  </script> -->

  <script>
    // Define una función flecha "filtrar" que recibe un objeto "x" y
    // Devuelve true si la propiedad "name" de "x" es igual a "evaluacion".
    const filtrar = x => x.name === "evaluacion";
    // Realiza una solicitud fetch para obtener un archivo JSON llamado "user.json".
    fetch("user.json")
      // Cuando la respuesta de la solicitud fetch se recibe, se convierte en formato JSON.
      .then(response => response.json())
      // "data" contiene el JSON obtenido del archivo "user.json".
      .then(data => {
        // Realiza una nueva solicitud fetch a la API de GitHub para obtener los repositorios
        // del usuario cuyo nombre está almacenado en "data.name" (obtenido de "user.json").
        fetch(`https://api.github.com/users/${data.name}/repos`)
          // Cuando la respuesta de esta solicitud se recibe, se convierte en formato JSON. 
          .then(response => response.json())
          // "data" ahora contiene una lista de repositorios del usuario de GitHub.
          .then(data => {
            // Recorre cada elemento (repositorio) en "data".
            data.forEach(element => {
              // Si el nombre del repositorio es "evaluacion", lo imprime en la consola.
              if (element.name === "evaluacion") {
                console.log(element);
              };
            });
            // Usa la función "filter" en "data" para obtener una lista de repositorios
            // cuyo nombre es "evaluacion", utilizando la función "filtrar" definida anteriormente.
            let datos = data.filter(filtrar);
            // Imprime la lista filtrada en la consola.
            console.log(datos);
          });
      });
  </script>

</body>

</html>